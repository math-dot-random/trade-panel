2d32f5fb3e404668316ddbce04597422
"use strict";

const request = require('request');

const port = 3001;
describe('Server API behavior', () => {
  it('should respond with price data from database upon a GET request', () => {
    // Make request to API
    request(`http://localhost:${port}/api/stocks/GOOG/price`, (err, _res, body) => {
      if (err) {
        return console.err(err);
      }

      let response = JSON.parse(body);
      expect(response.length).toBe(1);
      expect(response[0].price).not.toBeNaN();
    });
  });
});
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNlcnZlci50ZXN0LmpzIl0sIm5hbWVzIjpbInJlcXVlc3QiLCJyZXF1aXJlIiwicG9ydCIsImRlc2NyaWJlIiwiaXQiLCJlcnIiLCJfcmVzIiwiYm9keSIsImNvbnNvbGUiLCJyZXNwb25zZSIsIkpTT04iLCJwYXJzZSIsImV4cGVjdCIsImxlbmd0aCIsInRvQmUiLCJwcmljZSIsIm5vdCIsInRvQmVOYU4iXSwibWFwcGluZ3MiOiI7O0FBQUEsTUFBTUEsT0FBTyxHQUFHQyxPQUFPLENBQUMsU0FBRCxDQUF2Qjs7QUFDQSxNQUFNQyxJQUFJLEdBQUcsSUFBYjtBQUVBQyxRQUFRLENBQUMscUJBQUQsRUFBd0IsTUFBTTtBQUNwQ0MsRUFBQUEsRUFBRSxDQUFDLGlFQUFELEVBQW9FLE1BQU07QUFDMUU7QUFDQUosSUFBQUEsT0FBTyxDQUFFLG9CQUFtQkUsSUFBSyx3QkFBMUIsRUFBbUQsQ0FBQ0csR0FBRCxFQUFNQyxJQUFOLEVBQVlDLElBQVosS0FBcUI7QUFDN0UsVUFBSUYsR0FBSixFQUFTO0FBQ1AsZUFBT0csT0FBTyxDQUFDSCxHQUFSLENBQVlBLEdBQVosQ0FBUDtBQUNEOztBQUNELFVBQUlJLFFBQVEsR0FBR0MsSUFBSSxDQUFDQyxLQUFMLENBQVdKLElBQVgsQ0FBZjtBQUNBSyxNQUFBQSxNQUFNLENBQUNILFFBQVEsQ0FBQ0ksTUFBVixDQUFOLENBQXdCQyxJQUF4QixDQUE2QixDQUE3QjtBQUNBRixNQUFBQSxNQUFNLENBQUNILFFBQVEsQ0FBQyxDQUFELENBQVIsQ0FBWU0sS0FBYixDQUFOLENBQTBCQyxHQUExQixDQUE4QkMsT0FBOUI7QUFDRCxLQVBNLENBQVA7QUFRRCxHQVZDLENBQUY7QUFXRCxDQVpPLENBQVIiLCJzb3VyY2VzQ29udGVudCI6WyJjb25zdCByZXF1ZXN0ID0gcmVxdWlyZSgncmVxdWVzdCcpO1xuY29uc3QgcG9ydCA9IDMwMDE7XG5cbmRlc2NyaWJlKCdTZXJ2ZXIgQVBJIGJlaGF2aW9yJywgKCkgPT4ge1xuICBpdCgnc2hvdWxkIHJlc3BvbmQgd2l0aCBwcmljZSBkYXRhIGZyb20gZGF0YWJhc2UgdXBvbiBhIEdFVCByZXF1ZXN0JywgKCkgPT4ge1xuICAgIC8vIE1ha2UgcmVxdWVzdCB0byBBUElcbiAgICByZXF1ZXN0KGBodHRwOi8vbG9jYWxob3N0OiR7cG9ydH0vYXBpL3N0b2Nrcy9HT09HL3ByaWNlYCwgKGVyciwgX3JlcywgYm9keSkgPT4ge1xuICAgICAgaWYgKGVycikge1xuICAgICAgICByZXR1cm4gY29uc29sZS5lcnIoZXJyKTtcbiAgICAgIH1cbiAgICAgIGxldCByZXNwb25zZSA9IEpTT04ucGFyc2UoYm9keSk7XG4gICAgICBleHBlY3QocmVzcG9uc2UubGVuZ3RoKS50b0JlKDEpO1xuICAgICAgZXhwZWN0KHJlc3BvbnNlWzBdLnByaWNlKS5ub3QudG9CZU5hTigpO1xuICAgIH0pO1xuICB9KTtcbn0pOyJdfQ==