{"version":3,"sources":["TradePanel.jsx"],"names":["TradePanel","Component","constructor","props","state","stock","data","orderTypes","showOrderTypes","currType","componentDidMount","match","window","location","pathname","setState","fetchData","fetch","then","res","json","catch","err","console","log","changeType","render","bind","toUpperCase"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\nimport OrderTypes from './OrderTypes.jsx';\nimport $ from 'jquery';\n\nclass TradePanel extends Component {\n  constructor(props) {\n    super(props);\n\n    this.state = {\n      stock: 'inst',\n      data: [],\n      orderTypes: ['Market Order', 'Limit Order', 'Stop Loss Order', 'Stop Limit Order'],\n      showOrderTypes: false,\n      currType: 0\n    };\n\n  }\n\n  componentDidMount() {\n    let match = window.location.pathname.match(/\\/stocks\\/(\\w+)/i);\n    const stock = match ? match[1] : null;\n    if (stock) {\n      return this.setState({stock}, () => this.fetchData());\n    }\n    this.fetchData();\n  }\n\n  fetchData() {\n    fetch(`http://localhost:3001/api/stocks/${this.state.stock}/price`)\n      .then(res => res.json())\n      .then(data => this.setState({ data }))\n      .catch(err => console.log(err));\n  }\n  \n  showOrderTypes() {\n    this.setState( state => ({ showOrderTypes: !state.showOrderTypes }));\n  }\n\n  changeType(currType) {\n    this.setState({ currType });\n  }\n\n  render() {\n    return (\n      <div>\n        {this.state.showOrderTypes ? <OrderTypes orderTypes={this.state.orderTypes} currType={this.state.currType} changeType={this.changeType.bind(this)} showOrderTypes={this.showOrderTypes.bind(this)}/> : null}\n        <div className='header'>\n          <div id='header-left'>\n            <h3>Buy {this.state.stock.toUpperCase()}</h3>\n          </div>\n          <div id='header-right' className={this.state.showOrderTypes ? 'active-bottom' : ''}>\n            <svg width='28' height='28' onClick={this.showOrderTypes.bind(this)}>\n              <path fillRule=\"evenodd\" d=\"M14,16 C12.8954305,16 12,15.1045695 12,14 C12,12.8954305 12.8954305,12 14,12 C15.1045695,12 16,12.8954305 16,14 C16,15.1045695 15.1045695,16 14,16 Z M6,16 C4.8954305,16 4,15.1045695 4,14 C4,12.8954305 4.8954305,12 6,12 C7.1045695,12 8,12.8954305 8,14 C8,15.1045695 7.1045695,16 6,16 Z M22,16 C20.8954305,16 20,15.1045695 20,14 C20,12.8954305 20.8954305,12 22,12 C23.1045695,12 24,12.8954305 24,14 C24,15.1045695 23.1045695,16 22,16 Z\"></path>\n            </svg>\n          </div>\n        </div>\n        <div className='main-container'>\n          <div className=\"list-container\">\n            <div className=\"box-left\">Commissions</div>\n            <div className=\"box-right\">$0.00</div>\n          </div>\n        </div>\n      </div>\n    );\n  }\n}\n\nexport default TradePanel;"]}